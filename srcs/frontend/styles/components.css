@layer components {
    #background {
        @apply fixed top-0 left-0 w-full h-full -z-10 block; /* Canvas background positioning */
    }

    .default-button {
        @apply bg-black p-4 border-2 border-white rounded-lg; /* Background and borders */
        @apply px-4 py-2 text-2xl cursor-pointer;            /* Padding, text and cursor */
    }

    .default-button:hover {
        @apply bg-gray-500; /* Button hover background */
    }

    .default-button:active {
        @apply bg-gray-700 scale-95; /* Button active state */
    }

    .page {
        @apply p-4 flex flex-col items-center justify-center min-h-screen gap-4;      /* Layout and spacing */
        @apply absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2; /* Centering positioning */
    }

    .page:empty {
        pointer-events: none; /* Click-through for empty pages */
    }

    #signIn input, #signUp input {
        @apply p-2 w-[300px] text-lg;                /* Padding, width and text size */
        @apply border-2 border-white rounded-md;     /* Borders and corners */
        @apply bg-black text-white;                /* Colors */
    }

    #leaderboard {
        @apply left-[2%]; /* Right panel positioning - INVERSÉ */
    }

    #friendList {
        @apply right-[2%]; /* Right panel positioning - INVERSÉ */
    }

    .user-list {
        @apply w-[15%] h-[65%] absolute top-[22%]; /* Size and positioning */
        @apply overflow-y-auto p-[1vh];            /* Scroll and padding */
    }

    .user-list img {
        @apply w-[75px] h-[75px] rounded-md; /* User avatar styling - same as main menu avatar */
    }

    /* Badge de notification pour les demandes d'amis */
    .friend-requests-badge {
        @apply absolute -top-1 -right-1;
        @apply bg-red-600 text-white;
        @apply text-xs font-bold;
        @apply rounded-full;
        @apply w-5 h-5;
        @apply flex items-center justify-center;
        @apply z-10;
        @apply shadow-lg;
        animation: pulse-badge 2s ease-in-out infinite;
    }

    @keyframes pulse-badge {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }

    /* Pong Loading Icon - Animation personnalisées uniquement */
    @keyframes pong-rotate {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    @keyframes pong-paddle-move {
        0% { transform: translateY(-50%) translateY(-2px); }
        100% { transform: translateY(-50%) translateY(2px); }
    }

    @keyframes pong-ball-bounce {
        0% { left: 4px; transform: translateY(-50%); }
        50% { left: 50%; transform: translateY(-50%) translateY(-1px); }
        100% { left: calc(100% - 4px); transform: translateY(-50%); }
    }

    .pong-rotate { animation: pong-rotate 2s linear infinite; }
    .pong-paddle-move { animation: pong-paddle-move 1s ease-in-out infinite alternate; }
    .pong-paddle-move-reverse { animation: pong-paddle-move 1s ease-in-out infinite alternate-reverse; }
    .pong-ball-bounce { animation: pong-ball-bounce 1s ease-in-out infinite; }

    /* Friend list styling - utilisé uniquement pour le leaderboard maintenant */

    /* Leaderboard specific styles */
    #leaderboard .friend {
        @apply flex items-center justify-center relative;
    }

    #leaderboard .position-number {
        @apply absolute left-0 w-[25px];
    }

    #leaderboard img {
        @apply ml-8; /* Décalage vers la droite pour éviter le chevauchement avec le numéro */
    }

    #leaderboard .friend-info {
        @apply flex flex-col items-center text-center w-full;
    }

    #leaderboard .friend-name {
        @apply text-lg mb-1;
    }

    #leaderboard .friend-stats {
        @apply text-sm text-gray-400 m-0;
    }

    .friend-name {
        @apply text-base font-bold mb-1;
    }

    .friend-stats {
        @apply text-sm text-gray-400 m-0;
    }

    .profile-pic {
        @apply relative z-0; /* Profile picture layering */
    }

    #contextMenu {
        @apply fixed z-[1000] bg-gray-600 text-base;
    }

    #contextMenu li {
        @apply p-4;
    }

    #contextMenu li:hover {
        @apply bg-gray-400;
    }

    .menu-container {
        @apply mt-[7vh]; /* Menu container spacing */
    }

    .menu-section {
        @apply my-[15vh]; /* Menu section spacing */
    }

    #mainMenu h1 {
        @apply text-[42px] mb-[2vh]; /* Menu text size */
    }

    #mainMenu button {
        @apply text-3xl; /* Button text size */
    }

    .bottom-left {
        @apply fixed bottom-[20px] left-[20px] m-0 z-[100] bg-none shadow-none;
    }

    #goToProfile-component {
        @apply fixed top-[50px] right-[50px] flex items-center bg-black border-2 border-white rounded-lg p-4 pr-12 z-[100] min-w-fit; /* Position, border, arrondi, fond, layout - s'adapte à la longueur du contenu */
    }

    #goToProfile .profile-pic {
        @apply w-[75px] h-[75px] rounded-md mr-4 relative flex-shrink-0; /* Photo à gauche, taille et arrondi, position relative pour la couronne, ne se réduit pas */
    }

    .goToProfile-info {
        @apply flex flex-col items-start whitespace-nowrap; /* Colonne pseudo + bouton, pas de retour à la ligne */
    }

    .goToProfile-username {
        @apply text-xl font-bold mb-2 mr-8; /* Pseudo en haut, plus de truncate pour permettre l'expansion */
    }

    .goToProfile-logout {
        @apply bg-red-800 text-white px-6 py-2 rounded-md border-none text-base ; /* Bouton déconnexion taille normale */
    }

    .goToProfile-logout:hover {
        @apply bg-red-900; /* Bouton déconnexion hover */
    }



    /* Settings Page */
    #settings h1 {
        @apply text-4xl mb-6; /* Title size and margin */
    }

    .settings-row {
        @apply flex items-center justify-between mb-6; /* Alignement et espacement */
        @apply w-full max-w-xl; /* Largeur maximale */
    }

    .settings-label {
        @apply text-xl mr-4; /* Taille du texte et marge */
        @apply flex-shrink-0; /* Empêche le rétrécissement */
        @apply w-40 text-left; /* Largeur fixe et alignement */
    }

    #settings-form input {
        @apply w-64 text-right; /* Largeur et alignement du texte */
        @apply caret-transparent bg-transparent border-none outline-none;
        @apply focus:ring-0 focus:outline-none focus:border-none;
        @apply border-b-2 border-white; /* Ligne sous le texte */
    }

    #settings-form input::placeholder {
        @apply text-white;
    }

    #settings-form input:focus::placeholder {
        @apply text-transparent;
    }

    #change-pp {
        @apply text-amber-500 cursor-pointer;
    }

    #avatar-buttons {
        @apply text-right w-64; /* Alignement à droite avec largeur */
    }

    #settings-buttons {
        @apply text-xl flex justify-center gap-16; /* Augmentation de l'espace entre les boutons */
    }

    #settings-buttons button {
        @apply hover:text-amber-500; /* Hover effect */
    }

    /* Matchmaking page */
    #matchmaking-page {
        @apply w-[100vw];
    }

    #matchmaking h1 {
        @apply text-4xl;
    }

    #matchmaking button {
        @apply text-xl pt-2;
    }

    #searchingText {
        @apply text-2xl pb-4; /* Search status text styling */
    }

    #tips {
        @apply text-gray-400 w-[60vw] mx-[20vw];   /* Full width and margin */
        @apply fixed bottom-0 left-0;             /* Positioning */
    } 

    #tipText {
        @apply text-xl my-8 italic; /* Tip text size, margins, and italic */
    }
    
    /* Game Finished Page */
    #game-finished-page {
        @apply flex flex-col items-center justify-center w-full h-full p-8;
    }

    #game-finished-title {
        @apply text-6xl font-bold mb-8 text-amber-500;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    #forfeit-message {
        @apply text-2xl mb-8 text-red-400 font-semibold text-center;
    }

    #game-results {
        @apply flex flex-row items-center justify-center gap-12 mb-12 w-full max-w-4xl;
    }

    .result-section {
        @apply flex flex-col items-center justify-center p-8 rounded-lg flex-1;
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 2px solid rgba(255, 255, 255, 0.1);
    }

    .winner-section {
        border-color: rgba(34, 197, 94, 0.5);
        background: rgba(34, 197, 94, 0.1);
    }

    .loser-section {
        border-color: rgba(239, 68, 68, 0.5);
        background: rgba(239, 68, 68, 0.1);
    }

    .result-section h2 {
        @apply text-3xl mb-4;
    }

    .result-section .player-name {
        @apply text-4xl font-bold mb-2;
    }

    .winner-section .player-name {
        @apply text-green-400;
    }

    .loser-section .player-name {
        @apply text-red-400;
    }

    .result-section .player-score {
        @apply text-6xl font-bold;
    }

    .winner-section .player-score {
        @apply text-green-300;
    }

    .loser-section .player-score {
        @apply text-red-300;
    }

    #vs-divider {
        @apply text-5xl font-bold text-gray-400;
    }

    #game-finished-buttons {
        @apply flex flex-row gap-6 mt-8;
    }
    
    /* Boutons désactivés */
    button:disabled {
        @apply opacity-50 cursor-not-allowed;
    }
    
    button:disabled:hover {
        @apply bg-black text-white; /* Annule les effets de hover quand désactivé */
    }

    /* Session Disconnected Overlay */
    /* Override .page styles for session disconnected overlay */
    #sessionDisconnected.page {
        @apply static transform-none p-0;
        @apply w-full h-full min-h-0;
    }
    
    .session-overlay {
        @apply fixed top-0 left-0 w-screen h-screen;
        @apply flex items-center justify-center;
        @apply bg-black bg-opacity-85 z-[10000];
    }

    .session-message-box {
        @apply bg-black border border-white;
        @apply px-12 py-10 max-w-md text-center;
    }

    .session-title {
        @apply text-white text-lg font-normal tracking-wider;
        @apply mb-5;
    }

    .session-description {
        @apply text-gray-400 text-sm leading-relaxed;
        @apply mb-8;
    }

    .session-reload-btn {
        @apply bg-transparent text-white border border-white;
        @apply px-6 py-2 text-sm tracking-wider cursor-pointer;
        @apply transition-all duration-200;
    }

    .session-reload-btn:hover {
        @apply bg-white text-black;
    }

    /* Game Finished Overlay - Style minimaliste inspiré de session-overlay */
    #gameFinished.page {
        @apply static transform-none p-0;
        @apply w-full h-full min-h-0;
    }

    .game-finished-overlay {
        @apply fixed top-0 left-0 w-screen h-screen;
        @apply flex items-center justify-center;
        @apply bg-black bg-opacity-85 z-[9999];
    }

    .game-finished-box {
        @apply bg-black border border-white;
        @apply px-12 py-10 max-w-2xl text-center;
    }

    .game-finished-title {
        @apply text-white text-2xl font-normal tracking-wider;
        @apply mb-6;
    }

    .game-finished-forfeit-msg {
        @apply text-gray-400 text-sm leading-relaxed;
        @apply mb-8;
    }

    .game-finished-scores {
        @apply flex items-center justify-center gap-8 mb-10;
    }

    .game-finished-player {
        @apply flex flex-col items-center gap-2;
    }

    .player-label {
        @apply text-gray-500 text-xs tracking-widest uppercase;
    }

    .player-name {
        @apply text-white text-lg font-normal;
    }

    .player-score {
        @apply text-white text-3xl font-light;
    }

    .game-finished-player.winner .player-score {
        @apply text-green-400;
    }

    .game-finished-player.loser .player-score {
        @apply text-red-400;
    }

    .game-finished-vs {
        @apply text-gray-600 text-sm tracking-wider;
    }

    .game-finished-actions {
        @apply flex items-center justify-center gap-4;
    }

    .game-finished-btn {
        @apply bg-transparent text-white border border-white;
        @apply px-6 py-2 text-sm tracking-wider cursor-pointer;
        @apply transition-all duration-200;
    }

    .game-finished-btn:hover {
        @apply bg-white text-black;
    }

    /* Spectator Game Finished Overlay - Same style as gameFinished */
    #spectatorGameFinished.page {
        @apply static transform-none p-0;
        @apply w-full h-full min-h-0;
    }

    .spectator-game-finished-overlay {
        @apply fixed top-0 left-0 w-screen h-screen;
        @apply flex items-center justify-center;
        @apply bg-black bg-opacity-85 z-[9999];
    }

    .spectator-game-finished-box {
        @apply bg-black border border-white;
        @apply px-12 py-10 max-w-2xl text-center;
    }

    .spectator-game-finished-title {
        @apply text-white text-2xl font-normal tracking-wider;
        @apply mb-6;
    }

    .spectator-game-finished-forfeit-msg {
        @apply text-gray-400 text-sm leading-relaxed;
        @apply mb-8;
    }

    .spectator-game-finished-scores {
        @apply flex items-center justify-center gap-8 mb-10;
    }

    .spectator-game-finished-player {
        @apply flex flex-col items-center gap-2;
    }

    .spectator-game-finished-player .player-label {
        @apply text-gray-500 text-xs tracking-widest uppercase;
    }

    .spectator-game-finished-player .player-name {
        @apply text-white text-lg font-normal;
    }

    .spectator-game-finished-player .player-score {
        @apply text-white text-3xl font-light;
    }

    .spectator-game-finished-player.winner .player-score {
        @apply text-green-400;
    }

    .spectator-game-finished-player.loser .player-score {
        @apply text-red-400;
    }

    .spectator-game-finished-vs {
        @apply text-gray-600 text-sm tracking-wider;
    }

    .spectator-game-finished-actions {
        @apply flex items-center justify-center gap-4;
    }

    .spectator-game-finished-btn {
        @apply bg-transparent text-white border border-white;
        @apply px-6 py-2 text-sm tracking-wider cursor-pointer;
        @apply transition-all duration-200;
    }

    .spectator-game-finished-btn:hover {
        @apply bg-white text-black;
    }
}